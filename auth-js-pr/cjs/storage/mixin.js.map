{"version":3,"file":"mixin.js","names":["mixinStorage","Base","StorageManager","OktaAuthStorage","constructor","args","storageManager","cookies","storageUtil","options","clearStorage"],"sources":["../../../lib/storage/mixin.ts"],"sourcesContent":["import { OktaAuthBaseInterface, OktaAuthConstructor } from '../base/types';\nimport {\n  OktaAuthStorageInterface,\n  OktaAuthStorageOptions,\n  StorageManagerConstructor,\n  StorageManagerInterface,\n} from './types';\n\nexport function mixinStorage\n<\n  S extends StorageManagerInterface = StorageManagerInterface,\n  O extends OktaAuthStorageOptions = OktaAuthStorageOptions,\n  TBase extends OktaAuthConstructor<OktaAuthBaseInterface<O>> = OktaAuthConstructor<OktaAuthBaseInterface<O>>\n>\n(\n  Base: TBase, StorageManager: StorageManagerConstructor<S>\n): TBase & OktaAuthConstructor<OktaAuthStorageInterface<S, O>>\n{\n  return class OktaAuthStorage extends Base implements OktaAuthStorageInterface<S, O>\n  {\n    storageManager: S;\n    constructor(...args: any[]) {\n      super(...args);\n      const { storageManager, cookies, storageUtil } = this.options;\n      this.storageManager = new StorageManager(storageManager!, cookies!, storageUtil!);\n    }\n    clearStorage(): void {\n      // override in subclass\n    }\n  };\n}\n"],"mappings":";;;AAQO,SAASA,YAAY,CAO1BC,IAAW,EAAEC,cAA4C,EAE3D;EACE,OAAO,MAAMC,eAAe,SAASF,IAAI,CACzC;IAEEG,WAAW,CAAC,GAAGC,IAAW,EAAE;MAC1B,KAAK,CAAC,GAAGA,IAAI,CAAC;MACd,MAAM;QAAEC,cAAc;QAAEC,OAAO;QAAEC;MAAY,CAAC,GAAG,IAAI,CAACC,OAAO;MAC7D,IAAI,CAACH,cAAc,GAAG,IAAIJ,cAAc,CAACI,cAAc,EAAGC,OAAO,EAAGC,WAAW,CAAE;IACnF;IACAE,YAAY,GAAS;MACnB;IACF;EACF,CAAC;AACH"}