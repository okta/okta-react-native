{"version":3,"file":"phoneApi.js","names":["getPhones","oktaAuth","options","transaction","sendRequest","url","method","accessToken","transactionClassName","getPhone","id","addPhone","payload","deletePhone","sendPhoneChallenge","verifyPhoneChallenge"],"sources":["../../../lib/myaccount/phoneApi.ts"],"sourcesContent":["import { sendRequest } from './request';\nimport { \n  IAPIFunction,\n  BaseTransaction, \n  PhoneTransaction\n} from './types';\n\n/**\n * @scope: okta.myAccount.phone.read\n */\nexport const getPhones: IAPIFunction<PhoneTransaction[]> = async (\n  oktaAuth,\n  options?\n) => {\n  const transaction = await sendRequest(oktaAuth, {\n    url: '/idp/myaccount/phones',\n    method: 'GET',\n    accessToken: options?.accessToken,\n    transactionClassName: 'PhoneTransaction'\n  }) as PhoneTransaction[];\n  return transaction;\n};\n\n/**\n * @scope: okta.myAccount.phone.read\n */\nexport const getPhone: IAPIFunction<PhoneTransaction> = async (\n  oktaAuth,\n  options\n) => {\n  const { accessToken, id } = options!;\n  const transaction = await sendRequest(oktaAuth, {\n    url: `/idp/myaccount/phones/${id}`,\n    method: 'GET',\n    accessToken,\n    transactionClassName: 'PhoneTransaction'\n  }) as PhoneTransaction;\n  return transaction;\n};\n\n/**\n * @scope: okta.myAccount.phone.manage\n */\nexport const addPhone: IAPIFunction<PhoneTransaction> = async (\n  oktaAuth, \n  options\n): Promise<PhoneTransaction> => {\n  const { accessToken, payload } = options!;\n  const transaction = await sendRequest(oktaAuth, {\n    url: '/idp/myaccount/phones',\n    method: 'POST',\n    payload,\n    accessToken,\n    transactionClassName: 'PhoneTransaction'\n  }) as PhoneTransaction;\n  return transaction;\n};\n\n/**\n * @scope: okta.myAccount.phone.manage\n */\nexport const deletePhone: IAPIFunction<BaseTransaction> = async (\n  oktaAuth, \n  options\n) => {\n  const { id, accessToken } = options!;\n  const transaction = await sendRequest(oktaAuth, {\n    url: `/idp/myaccount/phones/${id}`,\n    method: 'DELETE',\n    accessToken,\n  }) as BaseTransaction;\n  return transaction;\n};\n\n/**\n * @scope: okta.myAccount.phone.manage\n */\nexport const sendPhoneChallenge: IAPIFunction<BaseTransaction> = async (\n  oktaAuth, \n  options\n) => {\n  const { accessToken, id, payload } = options!;\n  const transaction = await sendRequest(oktaAuth, {\n    url: `/idp/myaccount/phones/${id}/challenge`,\n    method: 'POST',\n    payload,\n    accessToken\n  }) as BaseTransaction;\n  return transaction;\n};\n\n/**\n * @scope: okta.myAccount.phone.manage\n */\nexport const verifyPhoneChallenge: IAPIFunction<BaseTransaction> = async (\n  oktaAuth,\n  options\n) => {\n  const { id, payload, accessToken } = options!;\n  const transaction = await sendRequest(oktaAuth, {\n    url: `/idp/myaccount/phones/${id}/verify`,\n    method: 'POST',\n    payload,\n    accessToken\n  }) as BaseTransaction;\n  return transaction;\n};\n"],"mappings":";;;AAAA;AAOA;AACA;AACA;AACO,MAAMA,SAA2C,GAAG,OACzDC,QAAQ,EACRC,OAAQ,KACL;EACH,MAAMC,WAAW,GAAG,MAAM,IAAAC,oBAAW,EAACH,QAAQ,EAAE;IAC9CI,GAAG,EAAE,uBAAuB;IAC5BC,MAAM,EAAE,KAAK;IACbC,WAAW,EAAEL,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEK,WAAW;IACjCC,oBAAoB,EAAE;EACxB,CAAC,CAAuB;EACxB,OAAOL,WAAW;AACpB,CAAC;;AAED;AACA;AACA;AAFA;AAGO,MAAMM,QAAwC,GAAG,OACtDR,QAAQ,EACRC,OAAO,KACJ;EACH,MAAM;IAAEK,WAAW;IAAEG;EAAG,CAAC,GAAGR,OAAQ;EACpC,MAAMC,WAAW,GAAG,MAAM,IAAAC,oBAAW,EAACH,QAAQ,EAAE;IAC9CI,GAAG,EAAG,yBAAwBK,EAAG,EAAC;IAClCJ,MAAM,EAAE,KAAK;IACbC,WAAW;IACXC,oBAAoB,EAAE;EACxB,CAAC,CAAqB;EACtB,OAAOL,WAAW;AACpB,CAAC;;AAED;AACA;AACA;AAFA;AAGO,MAAMQ,QAAwC,GAAG,OACtDV,QAAQ,EACRC,OAAO,KACuB;EAC9B,MAAM;IAAEK,WAAW;IAAEK;EAAQ,CAAC,GAAGV,OAAQ;EACzC,MAAMC,WAAW,GAAG,MAAM,IAAAC,oBAAW,EAACH,QAAQ,EAAE;IAC9CI,GAAG,EAAE,uBAAuB;IAC5BC,MAAM,EAAE,MAAM;IACdM,OAAO;IACPL,WAAW;IACXC,oBAAoB,EAAE;EACxB,CAAC,CAAqB;EACtB,OAAOL,WAAW;AACpB,CAAC;;AAED;AACA;AACA;AAFA;AAGO,MAAMU,WAA0C,GAAG,OACxDZ,QAAQ,EACRC,OAAO,KACJ;EACH,MAAM;IAAEQ,EAAE;IAAEH;EAAY,CAAC,GAAGL,OAAQ;EACpC,MAAMC,WAAW,GAAG,MAAM,IAAAC,oBAAW,EAACH,QAAQ,EAAE;IAC9CI,GAAG,EAAG,yBAAwBK,EAAG,EAAC;IAClCJ,MAAM,EAAE,QAAQ;IAChBC;EACF,CAAC,CAAoB;EACrB,OAAOJ,WAAW;AACpB,CAAC;;AAED;AACA;AACA;AAFA;AAGO,MAAMW,kBAAiD,GAAG,OAC/Db,QAAQ,EACRC,OAAO,KACJ;EACH,MAAM;IAAEK,WAAW;IAAEG,EAAE;IAAEE;EAAQ,CAAC,GAAGV,OAAQ;EAC7C,MAAMC,WAAW,GAAG,MAAM,IAAAC,oBAAW,EAACH,QAAQ,EAAE;IAC9CI,GAAG,EAAG,yBAAwBK,EAAG,YAAW;IAC5CJ,MAAM,EAAE,MAAM;IACdM,OAAO;IACPL;EACF,CAAC,CAAoB;EACrB,OAAOJ,WAAW;AACpB,CAAC;;AAED;AACA;AACA;AAFA;AAGO,MAAMY,oBAAmD,GAAG,OACjEd,QAAQ,EACRC,OAAO,KACJ;EACH,MAAM;IAAEQ,EAAE;IAAEE,OAAO;IAAEL;EAAY,CAAC,GAAGL,OAAQ;EAC7C,MAAMC,WAAW,GAAG,MAAM,IAAAC,oBAAW,EAACH,QAAQ,EAAE;IAC9CI,GAAG,EAAG,yBAAwBK,EAAG,SAAQ;IACzCJ,MAAM,EAAE,MAAM;IACdM,OAAO;IACPL;EACF,CAAC,CAAoB;EACrB,OAAOJ,WAAW;AACpB,CAAC;AAAC"}