{"version":3,"file":"factory.js","names":["createOktaAuthBase","OptionsConstructor","OktaAuthBase","constructor","args","options","length","removeNils","emitter","Emitter","features","constants","prototype","Object","assign"],"sources":["../../../lib/base/factory.ts"],"sourcesContent":["\n\n// Do not use this type in code, so it won't be emitted in the declaration output\nimport { removeNils } from '../util';\n\nimport * as features from '../features';\nimport * as constants from '../constants';\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore \n// Do not use this type in code, so it won't be emitted in the declaration output\nimport Emitter from 'tiny-emitter';\n\nimport {\n  EventEmitter,\n  OktaAuthConstructor,\n  OktaAuthBaseInterface,\n  OktaAuthBaseOptions,\n  OktaAuthOptionsConstructor, \n  FeaturesAPI,\n} from './types';\n\nexport function createOktaAuthBase\n<\n  O extends OktaAuthBaseOptions = OktaAuthBaseOptions,\n>\n(\n  OptionsConstructor: OktaAuthOptionsConstructor<O>\n): OktaAuthConstructor<OktaAuthBaseInterface<O>>\n{\n  class OktaAuthBase implements OktaAuthBaseInterface<O>\n  {\n    options: O;\n    emitter: EventEmitter;\n    features: FeaturesAPI;\n    static features: FeaturesAPI = features;\n    static constants = constants;\n    \n    constructor(...args: any[]) {\n      const options = new OptionsConstructor(args.length ? args[0] || {} : {});\n      this.options = removeNils(options) as O; // clear out undefined values\n      this.emitter = new Emitter();\n      this.features = features;\n    }\n  }\n\n  // Hoist feature detection functions to prototype & static type\n  OktaAuthBase.features = OktaAuthBase.prototype.features = features;\n\n  // Also hoist constants for CommonJS users\n  Object.assign(OktaAuthBase, {\n    constants\n  });\n\n  return OktaAuthBase;\n}\n"],"mappings":";;;;;AAGA;AAEA;AACA;AAKA;AAAmC;AAAA;AATnC;;AAMA;AACA;AACA;;AAYO,SAASA,kBAAkB,CAKhCC,kBAAiD,EAEnD;EACE,MAAMC,YAAY,CAClB;IAOEC,WAAW,CAAC,GAAGC,IAAW,EAAE;MAC1B,MAAMC,OAAO,GAAG,IAAIJ,kBAAkB,CAACG,IAAI,CAACE,MAAM,GAAGF,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;MACxE,IAAI,CAACC,OAAO,GAAG,IAAAE,gBAAU,EAACF,OAAO,CAAM,CAAC,CAAC;MACzC,IAAI,CAACG,OAAO,GAAG,IAAIC,oBAAO,EAAE;MAC5B,IAAI,CAACC,QAAQ,GAAGA,QAAQ;IAC1B;EACF;;EAEA;EAAA,8BAhBMR,YAAY,cAKeQ,QAAQ;EAAA,8BALnCR,YAAY,eAMGS,SAAS;EAW9BT,YAAY,CAACQ,QAAQ,GAAGR,YAAY,CAACU,SAAS,CAACF,QAAQ,GAAGA,QAAQ;;EAElE;EACAG,MAAM,CAACC,MAAM,CAACZ,YAAY,EAAE;IAC1BS;EACF,CAAC,CAAC;EAEF,OAAOT,YAAY;AACrB"}