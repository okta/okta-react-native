{"version":3,"file":"oidcHash.js","names":["getOidcHash","str","buffer","TextEncoder","encode","webcrypto","subtle","digest","then","arrayBuffer","intBuffer","Uint8Array","firstHalf","slice","hash","String","fromCharCode","apply","b64u","stringToBase64Url"],"sources":["../../../lib/crypto/oidcHash.ts"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n/* global TextEncoder */\nimport { stringToBase64Url } from './base64';\nimport { webcrypto } from './webcrypto';\n\nexport function getOidcHash(str) {  \n  var buffer = new TextEncoder().encode(str);\n  return webcrypto.subtle.digest('SHA-256', buffer).then(function(arrayBuffer) {\n    var intBuffer = new Uint8Array(arrayBuffer);\n    var firstHalf = intBuffer.slice(0, 16);\n    var hash = String.fromCharCode.apply(null, firstHalf as unknown as number[]);\n    var b64u = stringToBase64Url(hash); // url-safe base64 variant\n    return b64u;\n  });\n}\n"],"mappings":";;;AAaA;AACA;AAdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAIO,SAASA,WAAW,CAACC,GAAG,EAAE;EAC/B,IAAIC,MAAM,GAAG,IAAIC,WAAW,EAAE,CAACC,MAAM,CAACH,GAAG,CAAC;EAC1C,OAAOI,oBAAS,CAACC,MAAM,CAACC,MAAM,CAAC,SAAS,EAAEL,MAAM,CAAC,CAACM,IAAI,CAAC,UAASC,WAAW,EAAE;IAC3E,IAAIC,SAAS,GAAG,IAAIC,UAAU,CAACF,WAAW,CAAC;IAC3C,IAAIG,SAAS,GAAGF,SAAS,CAACG,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;IACtC,IAAIC,IAAI,GAAGC,MAAM,CAACC,YAAY,CAACC,KAAK,CAAC,IAAI,EAAEL,SAAS,CAAwB;IAC5E,IAAIM,IAAI,GAAG,IAAAC,uBAAiB,EAACL,IAAI,CAAC,CAAC,CAAC;IACpC,OAAOI,IAAI;EACb,CAAC,CAAC;AACJ"}