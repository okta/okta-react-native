{"version":3,"file":"node.js","names":["a","atob","atobModule","b","btoa","btoaModule","crypto","err","undefined","webcrypto","Crypto"],"sources":["../../../lib/crypto/node.ts"],"sourcesContent":["/*!\n * Copyright (c) 2015-present, Okta, Inc. and/or its affiliates. All rights reserved.\n * The Okta software accompanied by this notice is provided pursuant to the Apache License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0.\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * \n * See the License for the specific language governing permissions and limitations under the License.\n */\n\n\n/* global atob, btoa */\n\n// Ponyfill for NodeJS\n// Webpack config excludes this file\n\nimport atobModule from 'atob';\nimport btoaModule from 'btoa';\nimport { Crypto } from '@peculiar/webcrypto';\n\nlet a;\nif (typeof atob !== 'undefined') {\n  a = atob;\n} else {\n  a = atobModule;\n}\nexport { a as atob };\n\n\nlet b;\nif (typeof btoa !== 'undefined') {\n  b = btoa;\n} else {\n  b = btoaModule;\n}\nexport { b as btoa };\n\nconst crypto = (async () => {\n  try {\n    return await import('crypto');\n  } catch (err) {\n    // this environment has no crypto module!\n    return undefined;\n  }\n})();\n\nlet webcrypto;\nif (typeof crypto !== 'undefined' && crypto['webcrypto']) {\n  webcrypto = crypto['webcrypto'];\n} else {\n  webcrypto = new Crypto();\n}\n\nexport { webcrypto };\n"],"mappings":";;;;AAkBA;AACA;AACA;AAA6C;AAAA;AAE7C,IAAIA,CAAC;AAAC;AACN,IAAI,OAAOC,IAAI,KAAK,WAAW,EAAE;EAC/B,eAAAD,CAAC,GAAGC,IAAI;AACV,CAAC,MAAM;EACL,eAAAD,CAAC,GAAGE,aAAU;AAChB;AAIA,IAAIC,CAAC;AAAC;AACN,IAAI,OAAOC,IAAI,KAAK,WAAW,EAAE;EAC/B,eAAAD,CAAC,GAAGC,IAAI;AACV,CAAC,MAAM;EACL,eAAAD,CAAC,GAAGE,aAAU;AAChB;AAGA,MAAMC,MAAM,GAAG,CAAC,YAAY;EAC1B,IAAI;IACF,OAAO,mEAAa,QAAQ,GAAC;EAC/B,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZ;IACA,OAAOC,SAAS;EAClB;AACF,CAAC,GAAG;AAEJ,IAAIC,SAAS;AAAC;AACd,IAAI,OAAOH,MAAM,KAAK,WAAW,IAAIA,MAAM,CAAC,WAAW,CAAC,EAAE;EACxD,oBAAAG,SAAS,GAAGH,MAAM,CAAC,WAAW,CAAC;AACjC,CAAC,MAAM;EACL,oBAAAG,SAAS,GAAG,IAAIC,iBAAM,EAAE;AAC1B"}